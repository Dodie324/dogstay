<div class="row edit">
  <div class="small-12 large-12 columns">
    <div class="row form">
      <div class="small-4 large-4 columns">
        <%= image_tag current_user.image_url.to_s %>
        <% if current_user.try(:sitter) %>
          <ul><%= link_to "Cancel my account", sitter_path(current_user), data: { confirm: "Are you sure?" }, method: :delete %></ul>
        <% end %>
      </div>
      <div class="small-8 large-8 columns">
        <fieldset class="form-layout">
          <legend class="legend">Edit Profile</legend>
            <%= form_for(resource, as: resource_name,
            url: registration_path(resource_name), html: { method: :put }) do |f| %>
            <%= devise_error_messages! %>
              <div class="field">
                <%= f.label :email %>
                <%= f.email_field :email, autofocus: true %>
              </div>
              <% if devise_mapping.confirmable? && resource.pending_reconfirmation? %>
                <div>Currently waiting confirmation for: <%= resource.unconfirmed_email %></div>
              <% end %>
              <div class="field">
                <%= f.label :password %> <i>(leave blank if you don't want to change it)</i>
                <%= f.password_field :password, autocomplete: "off" %>
              </div>
              <div class="field">
                <%= f.label :password_confirmation %>
                <%= f.password_field :password_confirmation, autocomplete: "off" %>
              </div>
              <div class="field">
                <%= f.label :current_password %> <i>(we need your current password to confirm your changes)</i>
                <%= f.password_field :current_password, autocomplete: "off" %>
              </div>
              <div class="field">
                <%= f.label :first_name %>
                <%= f.text_field :first_name %>
              </div>
              <div class="field">
                <%= f.label :last_name %>
                <%= f.text_field :last_name %>
              </div>
              <div class="field">
                <%= f.label :phone_number %>
                <%= f.text_field :phone_number %>
              </div>
              <div class="field">
                <%= f.label :zipcode %>
                <%= f.text_field :zipcode %>
              </div>
              <%= hidden_field_tag 'longitude' %>
              <%= hidden_field_tag 'latitude' %>
              <div class="field">
                <%= f.label :image %>
                <%= f.file_field :image %>
              </div>
              <div class="field" id="sitter">
                <%= f.label :sitter, "Would you like to house a dog?" %>
                <%= f.select :sitter, [["No", false],["Yes", true]], selected: false %>
              </div>
              <div id="sitter_profile">
                <h4>Complete the rest of the form to become a sitter</h4>
                <div class="field">
                  <%= f.label :headline %>
                  <%= f.text_field :headline, placeholder: "Tell dog owners what makes you and your home special" %>
                </div>
                <div class="field">
                  <%= f.label :description %>
                  <%= f.text_field :description, placeholder: "Tell us about yourself" %>
                </div>
                <div class="field">
                  <%= f.label :have_dogs, "Do you have any dogs?" %>
                  <%= f.select :have_dogs,
                       [["No", false], ["Yes", true]],
                       selected: false %>
                </div>
                <div class="field">
                  <%= f.label :have_children, "Do you have any children?" %>
                  <%= f.select :have_children,
                       [["No", false], ["Yes", true]],
                       selected: false %>
                </div>
                <div class="field">
                  <%= f.label :property_type, "Property type" %>
                  <%= f.select :property_type,
                       User::PROPERTY %>
                </div>
                <div class="field">
                  <%= f.label :yard_type, "Type of yard" %>
                  <%= f.select :yard_type,
                      User::YARD %>
                </div>
                <div class="field">
                  <%= f.label :price %>
                  <%= f.text_field :price, placeholder: "Price per day (USD)" %>
                </div>
                <div class="field">
                  <%= f.label :availability, "Time available" %>
                  <%= f.select :availability,
                      User::AVAILABILITY %>
                </div>
                <div class="field">
                  <%= f.label :address1 %>
                  <%= f.text_field :address1 %>
                </div>
                <div class="field">
                  <%= f.label :address2 %>
                  <%= f.text_field :address2 %>
                </div>
                <div class="field">
                  <%= f.label :city %>
                  <%= f.text_field :city %>
                </div>
                <div class="field">
                  <%= f.label :state %>
                  <%= f.select :state,
                      User::STATE,
                      :allow_nil => true %>
                </div>
              </div>
              <div class="actions">
                <%= f.submit "Update", class: "button postfix" %>
              </div>
            <% end %>
        <%= link_to "Back", :back %>
        </fieldset>
      </div>
    </div>
  </div>
</div>
